@model Library.Application.Queries.PaginatedList<Library.Application.Queries.Books.BookQuery>
@using Library.DomainModel.Enums
@{
    <script src="~/js/admin.js"></script>
    <link rel="stylesheet" href="~/css/bookStyle.css" />
    ViewData["Title"] = "Books";
    Layout = "~/Areas/Default/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-3">
        <div class="col-md-12 text-center" style="margin-bottom: 30px;">
            <a href="/Admin/Book/Add" style="font-size: 20px; color: black"><span class="glyphicon glyphicon-plus"></span> Add book</a>
        </div>
        <div class="form-group text-center" style="margin-top: 20px; margin-bottom: 20px;">
            <label style="color: black; font-family: Georgia; font-size: 18px;">Search by title</label>
            <form action="/Books/SearchByTitle">
                <input type="text" name="Title" class="form-control" style="height: 30px; width:130px; display: inline-block; margin-left: 15px;" />
                <button type="submit" class="borderlessbtn">
                    <span class="glyphicon glyphicon-search" style="color: black; font-size: 30px; margin-left: 10px;"></span>
                </button>
            </form>
        </div>
        <div class="genres text-center">
            <label style="color: black; font-family: Georgia; font-size: 18px; margin-bottom: 20px;">Search by genre</label>
            @foreach (var genre in Enum.GetValues(typeof(Genre)))
            {
                <a href="/Books/GetByGenre?Genre=@genre.ToString()" class="agenre">@genre</a>
            }
        </div>
    </div>
    <div class="col-md-9">
        @foreach (var book in Model)
        {
            <div class="col-md-10">
                <div class="col-md-12 book-row" style="margin-bottom: 20px;">
                    <div class="col-sm-7 properties-column">
                        <p>
                            <a href="/Books/Book?Id=@book.Id" class="btn btn-link" style="font-size: 20px; color: black;">
                                <div class="book-title" style="display: inline-block">@book.BookTitle</div>
                            </a>
                        </p>
                        <p>
                            <span>Author: </span>
                            <span class="book-span">@book.Author.Name</span>
                        </p>
                        <p>
                            <span>Genre:</span>
                            <span class="book-span">@book.Genre</span>
                        </p>
                        <p>
                            <span>Pages: </span>
                            <span class="book-span">@book.Pages</span>
                        </p>
                        <p>
                            <span>Year: </span>
                            <span class="book-span">@book.Year</span>
                        </p>
                        <p>
                            <span>Publisher: </span>
                            <span class="book-span">@book.Publisher</span>
                        </p>
                        <p>
                            <span>EAN: </span>
                            <span class="book-span">@book.Ean</span>
                        </p>
                        <p>
                            <span>ISBN: </span>
                            <span class="book-span">@book.Isbn</span>
                        </p>
                        <p style="margin-top: 5px;">
                            <span class="book-span" style="font-size: 18px;">Available: @book.CurrentQuantity / @book.Quantity</span>
                        </p>
                        <p>
                            <span style="font-weight:bold;">@book.Id</span>
                        </p>
                    </div>
                    <div class="col-sm-5" style="display: block">
                        <p class="book-description">@book.Description</p>
                    </div>
                </div>
            </div>
            <div class="col-md-2" style="margin-top: 110px;">
                <a href="/Admin/Book/Edit?Id=@book.Id" class="btn btn-link" style="font-size: 20px; color: black;"><span class="glyphicon glyphicon-edit"></span></a>
                <button onclick="sendDeleteBookCommand('@book.Id')" type="button" class="btn btn-link" style="font-size: 20px; color: black;"><span class="glyphicon glyphicon-trash"></span></button>
            </div>
        }
        @Html.Partial("~/Areas/Default/Views/Shared/_Pagination.cshtml", Model.PaginationInfo)
    </div>
</div>